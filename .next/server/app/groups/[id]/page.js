(()=>{var e={};e.id=953,e.ids=[953],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},8398:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(7096),i=t(6132),a=t(7284),o=t.n(a),l=t(2564),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(r,n);let d=["",{children:["groups",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1929)),"/Users/jvogter25/Desktop/Wordle Golf Tracker/app/groups/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5641)),"/Users/jvogter25/Desktop/Wordle Golf Tracker/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/jvogter25/Desktop/Wordle Golf Tracker/app/groups/[id]/page.tsx"],p="/groups/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/groups/[id]/page",pathname:"/groups/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3385:(e,r,t)=>{Promise.resolve().then(t.bind(t,786))},786:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>GroupDetailPage});var s=t(784),i=t(9885),a=t(1440),o=t.n(a),l=t(5527),n=t(9708);function GroupDetailPage({params:e}){let{user:r,loading:t}=(0,l.useAuth)(),[a,d]=(0,i.useState)(null),[c,p]=(0,i.useState)(!0),[x,u]=(0,i.useState)(""),m=e.id;(0,i.useEffect)(()=>{r&&m&&fetchGroupDetails()},[r,m]);let fetchGroupDetails=async()=>{try{let{data:e,error:r}=await n.OQ.from("groups").select("*").eq("id",m).single();if(r)throw r;let{data:t,error:s}=await n.OQ.from("group_members").select(`
          *,
          profiles (
            id,
            display_name,
            email,
            avatar_url
          )
        `).eq("group_id",m);if(s)throw s;d({...e,members:t})}catch(e){u(`Error loading group: ${e.message}`)}finally{p(!1)}},leaveGroup=async()=>{if(confirm("Are you sure you want to leave this group?"))try{let{error:e}=await n.OQ.from("group_members").delete().eq("group_id",m).eq("user_id",r?.id);if(e)throw e;u("Left group successfully"),setTimeout(()=>{window.location.href="/groups"},1500)}catch(e){u(`Error leaving group: ${e.message}`)}};if(t||c)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading group..."})]})});if(!r)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please sign in"}),s.jsx(o(),{href:"/auth/login",className:"bg-primary-500 text-white px-6 py-3 rounded-lg hover:bg-primary-600",children:"Sign In"})]})});if(!a)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Group not found"}),s.jsx(o(),{href:"/groups",className:"bg-primary-500 text-white px-6 py-3 rounded-lg hover:bg-primary-600",children:"Back to Groups"})]})});let g=a.members.find(e=>e.user_id===r.id),h=g?.role==="admin";return s.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.name}),a.description&&s.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,s.jsxs)("span",{children:[a.members.length," members"]}),(0,s.jsxs)("span",{children:["Created ",new Date(a.created_at).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[s.jsx(o(),{href:`/leaderboard?group=${a.id}`,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Leaderboard"}),s.jsx(o(),{href:"/submit",className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:"Submit Score"})]})]}),x&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${x.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:x}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invite Code"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("code",{className:"bg-gray-100 px-4 py-2 rounded text-lg font-mono",children:a.invite_code}),s.jsx("button",{onClick:()=>{a?.invite_code&&(navigator.clipboard.writeText(a.invite_code),u("Invite code copied to clipboard!"),setTimeout(()=>u(""),3e3))},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Copy"})]}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Share this code with others to invite them to the group."})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Members"}),s.jsx("div",{className:"space-y-3",children:a.members.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[e.profiles.avatar_url?s.jsx("img",{src:e.profiles.avatar_url,alt:e.profiles.display_name||e.profiles.email,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-full flex items-center justify-center text-white font-semibold",children:(e.profiles.display_name||e.profiles.email||"U")[0].toUpperCase()}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:e.profiles.display_name||e.profiles.email}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Joined ",new Date(e.joined_at).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${"admin"===e.role?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:e.role}),e.user_id===r.id&&s.jsx("span",{className:"text-xs text-gray-500",children:"(You)"})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx(o(),{href:"/groups",className:"text-primary-500 hover:text-primary-600",children:"← Back to Groups"}),!h&&s.jsx("button",{onClick:leaveGroup,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:"Leave Group"})]})]})})}},1929:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>a,default:()=>n});var s=t(5153);let i=(0,s.createProxy)(String.raw`/Users/jvogter25/Desktop/Wordle Golf Tracker/app/groups/[id]/page.tsx`),{__esModule:a,$$typeof:o}=i,l=i.default,n=l},1440:(e,r,t)=>{e.exports=t(614)}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[790,614,688],()=>__webpack_exec__(8398));module.exports=t})();