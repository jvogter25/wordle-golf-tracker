(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{6172:function(e,t,r){Promise.resolve().then(r.bind(r,4085))},4085:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return AuthCallbackPage}});var n=r(7437),s=r(2265),i=r(4033),a=r(2899);function AuthCallbackPage(){let e=(0,i.useRouter)();return(0,s.useEffect)(()=>{let handleAuthCallback=async()=>{try{let{data:t,error:r}=await a.OQ.auth.getSession();if(r){console.error("Auth callback error:",r),e.push("/auth/login?error=callback");return}t.session?e.push("/groups"):e.push("/auth/login")}catch(t){console.error("Unexpected error in auth callback:",t),e.push("/auth/login?error=unexpected")}};handleAuthCallback()},[e]),(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Signing you in..."}),(0,n.jsx)("p",{className:"text-gray-600",children:"Please wait while we verify your account."})]})})}},2899:function(e,t,r){"use strict";r.d(t,{OQ:function(){return o},dx:function(){return refreshSession},eR:function(){return getSessionStatus}});var n=r(2362),s=r(2601);let i=s.env.NEXT_PUBLIC_SUPABASE_URL||"https://xneavnttdgrpltmmldit.supabase.co",a=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuZWF2bnR0ZGdycGx0bW1sZGl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NTk3ODksImV4cCI6MjA2NTIzNTc4OX0.2T3VMVWWn7g-m8iYcoHq8r5ZkM8rWtLEZ2RXWttw3AA";if(!i||!a)throw Error("Missing Supabase environment variables");let o=(0,n.eI)(i,a,{auth:{storage:{getItem:e=>window.localStorage.getItem(e),setItem:(e,t)=>{window.localStorage.setItem(e,t)},removeItem:e=>{window.localStorage.removeItem(e)}},autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"wordle-golf-session",flowType:"pkce"},global:{headers:{"X-Client-Info":"wordle-golf-tracker"}}}),refreshSession=async()=>{try{let{data:e,error:t}=await o.auth.refreshSession();if(t)return console.log("Session refresh error:",t.message),!1;return!0}catch(e){return console.log("Session refresh failed:",e),!1}},getSessionStatus=async()=>{try{let{data:{session:e}}=await o.auth.getSession();return{isValid:!!e,expiresAt:null==e?void 0:e.expires_at,refreshToken:null==e?void 0:e.refresh_token,timeUntilExpiry:(null==e?void 0:e.expires_at)?1e3*e.expires_at-Date.now():0}}catch(e){return{isValid:!1,expiresAt:null,refreshToken:null,timeUntilExpiry:0}}}},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[553,971,472,744],function(){return e(e.s=6172)}),_N_E=e.O()}]);