(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{2976:function(e,t,r){Promise.resolve().then(r.bind(r,9332))},9332:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return SignupPage}});var s=r(7437),i=r(2265),n=r(1396),a=r.n(n),l=r(2899);function SignupPage(){let[e,t]=(0,i.useState)(""),[r,n]=(0,i.useState)(""),[o,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(""),handleSignup=async t=>{if(t.preventDefault(),!e.trim()||!r.trim()){u("Please fill in all fields");return}c(!0),u("");try{let{error:t}=await l.OQ.auth.signInWithOtp({email:e.trim(),options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback"),data:{display_name:r.trim()}}});t?u("Error: ".concat(t.message)):u("Check your email for the verification link!")}catch(e){u("An unexpected error occurred")}finally{c(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83C\uDFCC️ Join the Fun"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Create your Wordle Golf account"})]}),(0,s.jsxs)("form",{onSubmit:handleSignup,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),(0,s.jsx)("input",{id:"displayName",type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"Your name (visible to family members)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,s.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o})]}),d&&(0,s.jsx)("div",{className:"p-4 rounded-lg text-sm ".concat(d.includes("Error")?"bg-red-50 text-red-700 border border-red-200":"bg-green-50 text-green-700 border border-green-200"),children:d}),(0,s.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-primary-500 text-white py-3 px-4 rounded-lg font-semibold hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Creating Account...":"Create Account"})]}),(0,s.jsxs)("div",{className:"mt-8 text-center",children:[(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",(0,s.jsx)(a(),{href:"/auth/login",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign in here"})]}),(0,s.jsx)(a(),{href:"/",className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:"← Back to Home"})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-green-900 mb-2",children:"What you get:"}),(0,s.jsxs)("ul",{className:"text-xs text-green-700 space-y-1",children:[(0,s.jsx)("li",{children:"• Join or create family competitions"}),(0,s.jsx)("li",{children:"• Track your Wordle golf scores"}),(0,s.jsx)("li",{children:"• Participate in tournaments"}),(0,s.jsx)("li",{children:"• Compete with USGA-style handicaps"})]})]})]})})}},2899:function(e,t,r){"use strict";r.d(t,{OQ:function(){return l},dx:function(){return refreshSession},eR:function(){return getSessionStatus}});var s=r(2362),i=r(2601);let n=i.env.NEXT_PUBLIC_SUPABASE_URL||"https://xneavnttdgrpltmmldit.supabase.co",a=i.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuZWF2bnR0ZGdycGx0bW1sZGl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NTk3ODksImV4cCI6MjA2NTIzNTc4OX0.2T3VMVWWn7g-m8iYcoHq8r5ZkM8rWtLEZ2RXWttw3AA";if(!n||!a)throw Error("Missing Supabase environment variables");let l=(0,s.eI)(n,a,{auth:{storage:{getItem:e=>window.localStorage.getItem(e),setItem:(e,t)=>{window.localStorage.setItem(e,t)},removeItem:e=>{window.localStorage.removeItem(e)}},autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"wordle-golf-session",flowType:"pkce"},global:{headers:{"X-Client-Info":"wordle-golf-tracker"}}}),refreshSession=async()=>{try{let{data:e,error:t}=await l.auth.refreshSession();if(t)return console.log("Session refresh error:",t.message),!1;return!0}catch(e){return console.log("Session refresh failed:",e),!1}},getSessionStatus=async()=>{try{let{data:{session:e}}=await l.auth.getSession();return{isValid:!!e,expiresAt:null==e?void 0:e.expires_at,refreshToken:null==e?void 0:e.refresh_token,timeUntilExpiry:(null==e?void 0:e.expires_at)?1e3*e.expires_at-Date.now():0}}catch(e){return{isValid:!1,expiresAt:null,refreshToken:null,timeUntilExpiry:0}}}},1396:function(e,t,r){e.exports=r(8326)}},function(e){e.O(0,[553,326,971,472,744],function(){return e(e.s=2976)}),_N_E=e.O()}]);