"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{8270:function(e,r,t){t.d(r,{createGroup:function(){return createGroup}});var a=t(2899);let generateInviteCode=()=>Math.random().toString(36).substring(2,8).toUpperCase(),createGroup=async(e,r)=>{let t=await a.OQ.auth.getUser();if(!t.data.user)throw Error("Not authenticated");let i=generateInviteCode(),{data:o,error:n}=await a.OQ.from("groups").insert({name:e,description:r,created_by:t.data.user.id,invite_code:i}).select().single();if(n)throw n;let{error:u}=await a.OQ.from("group_members").insert({group_id:o.id,user_id:t.data.user.id,role:"admin"});if(u)throw u;return o}}}]);